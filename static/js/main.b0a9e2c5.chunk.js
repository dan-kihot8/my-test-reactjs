(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{271:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(19),i=a.n(r),o=(a(56),a(20)),c=a(21),s=a(23),d=a(22),m=a(24),u=a(8),h=(a(57),a(6)),f=a(46),p=a(50),E=(a(270),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(h.Form,{className:"text-left"},l.a.createElement(h.Form.Group,null,l.a.createElement("label",{htmlFor:"fullname"},"Fullname"),l.a.createElement(h.Form.Input,{type:"text",id:"fullname",placeholder:"Enter fullname",onChange:this.props.onNameChange})),l.a.createElement("label",null,"Birth date:"),l.a.createElement("div",{className:"",id:"dateItem"},l.a.createElement(p.a,{selected:this.props.selectedDate,onChange:this.props.onDateChange,dateFormat:"dd-MM-yyyy"})),l.a.createElement("label",null,"Office"),l.a.createElement(h.Form.CustomSelect,{id:"officeSelect",key:"offices",onChange:this.props.onOfficeChange,defaultValue:this.props.offices[0]},this.props.offices.map(function(e,t){return l.a.createElement("option",{key:t,value:e},e)})),l.a.createElement("label",null,"Sex"),l.a.createElement(h.Form.Group,null,l.a.createElement(h.Form.Check,null,l.a.createElement(h.Form.Radio,{id:"maleRadio",defaultChecked:!0,name:"genderRadio",onChange:this.props.onSexChange,value:"male"}),l.a.createElement(h.Form.CheckLabel,{htmlFor:"maleRadio"},"male")),l.a.createElement(h.Form.Check,null,l.a.createElement(h.Form.Radio,{id:"femaleRadio",name:"genderRadio",onChange:this.props.onSexChange,value:"female"}),l.a.createElement(h.Form.CheckLabel,{htmlFor:"femaleRadio"},"female"))),l.a.createElement(h.Form.Group,null,l.a.createElement(h.Form.Check,null,l.a.createElement(h.Form.CheckInput,{type:"checkbox",id:"firedCheck",onChange:function(t){e.props.onFiredChange(t)}}),l.a.createElement(h.Form.CheckLabel,{htmlFor:"firedCheck"},"Fired"))),l.a.createElement(h.Button,{primary:!0,type:"sumbit",onClick:this.props.onSaveClick},"Save"))}}]),t}(n.Component)),b=a(15),g=a.n(b),C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).save=a.save.bind(Object(u.a)(Object(u.a)(a))),a.openEditor=a.openEditor.bind(Object(u.a)(Object(u.a)(a))),a.onDateChange=a.onDateChange.bind(Object(u.a)(Object(u.a)(a))),a.onNameChange=a.onNameChange.bind(Object(u.a)(Object(u.a)(a))),a.onSexChange=a.onSexChange.bind(Object(u.a)(Object(u.a)(a))),a.onFiredChange=a.onFiredChange.bind(Object(u.a)(Object(u.a)(a))),a.onOfficeChange=a.onOfficeChange.bind(Object(u.a)(Object(u.a)(a))),a.deleteEmployer=a.deleteEmployer.bind(Object(u.a)(Object(u.a)(a))),a.state={employers:[],offices:[],fullname:"",selectedDate:new Date("1990-01-01"),gender:"male",fired:!1,office:"worker",editedId:-1},a.emptyEmployer={birthdate:v(new Date("1990-01-01")),fired:!1,fullname:a.state.fullname,office:"worker",gender:"male"},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getUsers()}},{key:"openEditor",value:function(e){var t,a=e.target.getAttribute("data-index")||g()(e.target).closest("tr").attr("data-index"),n=parseInt(a);g()(".table tr").removeClass("active"),-1!==n?(g()(e.target).closest("tr").addClass("active"),t=this.state.employers[n]):t=this.emptyEmployer,g()("#fullname").val(t.fullname),g()("#firedCheck").attr("checked",t.fired),g()("#officeSelect").val(t.office),document.getElementById("maleRadio").checked="male"===t.gender,document.getElementById("femaleRadio").checked="female"===t.gender,this.setState({gender:t.gender,fullname:t.fullname,selectedDate:k(t.birthdate),fired:t.fired,office:t.office,editedId:n})}},{key:"deleteEmployer",value:function(e){var t;e.preventDefault(),g()(".table tr").removeClass("active"),-1!==this.state.editedId?((t=this.state.employers).splice(this.state.editedId,1),this.setState({employers:t,editedId:-1})):alert("You need to choose row before!")}},{key:"onDateChange",value:function(e){this.setState({selectedDate:e})}},{key:"onSexChange",value:function(e){this.setState({gender:e.target.value})}},{key:"onNameChange",value:function(e){this.setState({fullname:e.target.value})}},{key:"onOfficeChange",value:function(e){this.setState({office:e.target.value})}},{key:"onFiredChange",value:function(e){this.setState({fired:e.target.checked})}},{key:"getUsers",value:function(){var e=this;f.get("./samples/default_data.json").then(function(t){e.setState({employers:t.data.table,offices:t.data.offices})}).catch(function(e){})}},{key:"save",value:function(e){e.preventDefault(),g()(".table tr").removeClass("active");var t={birthdate:v(this.state.selectedDate),fired:this.state.fired,fullname:this.state.fullname,office:this.state.office,gender:this.state.gender},a=this.state.employers;if(-1===this.state.editedId){if(""===this.state.fullname)return void alert("Please input a fullname!");if(a.filter(function(e){return e.fullname===t.fullname&&e.birthdate===t.birthdate}).length>0)return void alert("Duplicate employer!");a.push(t)}else a[this.state.editedId]=t;this.setState({employers:a})}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("h1",null,"Employers editor"),l.a.createElement(h.Container,null,l.a.createElement(h.ButtonGroup,{"aria-label":"Basic example"},l.a.createElement(h.Button,{success:!0,onClick:this.openEditor,"data-index":"-1",title:"Add employer"},"Add"),l.a.createElement(h.Button,{danger:!0,onClick:this.deleteEmployer},"Delete"))),l.a.createElement("div",null,l.a.createElement(h.Row,{className:"my-1 p-3"},l.a.createElement(h.Col,{col:"12 lg-6",className:"panel"},l.a.createElement(y,{employers:this.state.employers,openEditor:this.openEditor})),l.a.createElement(h.Col,{col:"12 lg-6",className:"card"},"Editor",l.a.createElement(E,{onSaveClick:this.save,onDateChange:this.onDateChange,onOfficeChange:this.onOfficeChange,onNameChange:this.onNameChange,onSexChange:this.onSexChange,onFiredChange:this.onFiredChange,selectedDate:this.state.selectedDate,fullname:this.state.fullname,gender:this.state.gender,fired:this.state.fired,office:this.state.office,offices:this.state.offices})))))}}]),t}(n.Component),y=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("table",{className:"table table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"id"),l.a.createElement("th",null,"fullname"),l.a.createElement("th",null,"office"),l.a.createElement("th",null,"birthdate"),l.a.createElement("th",null,"gender"),l.a.createElement("th",null,"fired"))),l.a.createElement("tbody",null,this.props.employers.map(function(t,a){return l.a.createElement("tr",{className:"p-4",key:a,"data-index":a,onClick:e.props.openEditor},l.a.createElement("td",{className:"index"}," ",a," "),l.a.createElement("td",null," ",t.fullname," "),l.a.createElement("td",null," ",t.office," "),l.a.createElement("td",null," ",t.birthdate," "),l.a.createElement("td",null," ",t.gender," "),l.a.createElement("td",null," ",l.a.createElement("input",{type:"checkbox",readOnly:!0,disabled:!0,checked:t.fired})," "))})))}}]),t}(n.Component);function v(e){return e.toLocaleDateString("es-CL")}function k(e){return new Date(e.replace(/(\d{2})-(\d{2})-(\d{4})/,"$2-$1-$3"))}i.a.render(l.a.createElement(C,null),document.getElementById("root"))},51:function(e,t,a){e.exports=a(271)},56:function(e,t,a){},57:function(e,t,a){}},[[51,1,2]]]);
//# sourceMappingURL=main.b0a9e2c5.chunk.js.map